# 乒乓球管理系统开发计划（2025.9.1-2025.9.25）


## 1. 开发概述
### 1.1 开发周期
2025年9月1日-2025年9月25日（共25天）

### 1.2 核心目标
完成乒乓球管理系统全角色功能开发与前后端对接，覆盖**超级管理员、校区管理员、教练员、学员**四大角色的核心业务，包括基础登录注册、角色权限控制、校区/教练/学员管理、课程预约、比赛管理、充值提现（模拟）、评论通知等功能。

### 1.3 参与人员
| 人员ID | 主要职责 | 技术方向 |
|--------|----------|----------|
| InnerPeace-code | 后端基础架构开发、核心控制器实现、早期功能迭代 | 后端（Spring Boot、MyBatis、定时任务） |
| XiaoQifei18SaMe | 后端业务功能开发、前后端对接、前端页面与权限实现、bug修复 | 全栈（后端业务逻辑+前端Vue/Element UI） |


## 2. 人员分工明细
| 角色/模块        | InnerPeace-code 负责内容                          | XiaoQifei18SaMe 负责内容                          |
|------------------|---------------------------------------------------|---------------------------------------------------|
| **后端基础架构** | 1. 初始化项目结构<br>2. 教练注册/登录/信息修改接口<br>3. Token权限功能实现<br>4. 核心实体类定义（如TableEntity） | 1. 超管/校管核心业务接口（校区、教练审核、比赛）<br>2. 充值提现（模拟）/课程预约/评论逻辑实现<br>3. 数据库关联优化（如userId细分）<br>4. bug修复（如ID注解、赛程分配错误） |
| **前端开发**     | -                                                 | 1. 登录/注册界面开发（角色区分）<br>2. 权限路由动态加载<br>3. 各角色功能页面（校区管理、课表、比赛、通知）<br>4. 前后端数据映射与对接（如性别字段匹配） |
| **前后端对接**   | 提供接口文档与调试支持                            | 1. 接口调用逻辑实现<br>2. 前端数据校验（如时间合法性）<br>3. 对接问题排查（如Token解析、变量名对齐） |
| **测试与优化**   | 后端接口测试                                      | 1. 功能测试（如取消预约、换教练）<br>2. 界面优化（如密码明暗文切换、评论区）<br>3. 数据展示修复（如未知名称、分页） |


## 3. 进度计划（按时间分段）
### 阶段1：基础架构与核心角色基础功能（9.1-9.7）
| 日期       | 后端任务（InnerPeace-code）                          | 前端任务（XiaoQifei18SaMe）                          | 阶段目标                     |
|------------|-----------------------------------------------------|-----------------------------------------------------|------------------------------|
| 9.1-9.2    | 1. 项目基础配置更新<br>2. 核心依赖引入              | -                                                   | 完成项目初始化               |
| 9.3-9.6    | 1. 教练注册/登录/信息修改接口开发<br>2. 实体类初步定义 | 1. 登录界面开发（增加role角色区分）<br>2. 注册页面框架搭建（含图片上传占位） | 实现教练基础功能与前端登录框架 |
| 9.7        | 1. 完善教练注册登录逻辑<br>2. 修复教练信息修改bug    | 1. 增加权限过滤函数（filter/issupper/iscampus）<br>2. 注册功能加入permission白名单<br>3. 登录路由动态加载（区分超管/校管） | 完成教练基础功能与前端权限框架 |


### 阶段2：控制器开发与权限对接（9.8-9.14）
| 日期       | 后端任务（InnerPeace-code/XiaoQifei18SaMe）         | 前端任务（XiaoQifei18SaMe）                          | 阶段目标                     |
|------------|-----------------------------------------------------|-----------------------------------------------------|------------------------------|
| 9.8        | InnerPeace-code：<br>1. 新增AdminController<br>2. 新增SuperAdminController<br>3. 学生查询/选择教练Controller<br>XiaoQifei18SaMe：<br>1. 超管校区管理界面开发（增删改，mock数据）<br>2. 路由权限配置（asyncRouters） | 1. 超管登录界面调试<br>2. 导航栏路由优化（父子层级显示）<br>3. mock角色数据修改（适配双管理员） | 完成核心控制器与超管界面框架 |
| 9.9        | InnerPeace-code：<br>1. 加入Token功能（登录鉴权）<br>2. 修复编辑/删除URL正则问题<br>XiaoQifei18SaMe：<br>1. 校区管理编辑/删除功能调试<br>2. 教练照片上传bug修复（无需强制上传） | 1. 个人信息维护页面开发<br>2. 角色状态存储（vuex）<br>3. 登录mock拆分（区分角色） | 实现Token权限与基础界面功能 |
| 9.10       | XiaoQifei18SaMe：<br>1. 修复登出功能（@Data/@Transactional注解）<br>2. 超管校区管理功能bug修复（entity ID注解：@NotBlank→@NotNull）<br>3. 合并master分支 | 1. 登出功能开发（含成功提示）<br>2. 修复Token解析问题（username/name字段匹配） | 完成登出与超管基础功能调试 |
| 9.11-9.12  | XiaoQifei18SaMe：<br>1. 管理员审核教练功能开发（支持查看教练照片）<br>2. 超管审核所有校区待审核教练<br>3. 修复管理员登录bug | 1. 管理员审核教练界面开发<br>2. 权限路由刷新404问题修复<br>3. 超管“管理员管理”界面开发（密码明暗文切换） | 完成教练审核功能与前后端对接 |
| 9.13-9.14  | XiaoQifei18SaMe：<br>1. 新增教练头像/照片上传接口（后端检测）<br>2. 拉取学校列表接口（用于选校区）<br>3. 编辑管理员请求方式修复（POST→PUT） | 1. 个人信息维护优化（头像功能调试）<br>2. 超管校园管理/管理员管理优化（联系方式同步）<br>3. 注册/个人信息页面拉取学校列表 | 完成校区选择与头像上传功能 |


### 阶段3：核心业务功能开发（9.15-9.21）
| 日期       | 后端任务（XiaoQifei18SaMe）                          | 前端任务（XiaoQifei18SaMe）                          | 阶段目标                     |
|------------|-----------------------------------------------------|-----------------------------------------------------|------------------------------|
| 9.15       | 1. 学生提交选择教练申请接口<br>2. 教练查看/审核学生申请接口<br>3. 幻想展示学生过往成绩（预留逻辑） | 1. 学生申请教练界面开发<br>2. 教练审核学生界面开发<br>3. 管理员管理密码bug调试（不显示/不能为空） | 完成学生-教练绑定功能 |
| 9.16       | 1. 超管课表管理功能开发（V1.0，默认模板）<br>2. 充值功能初步开发（**仅模拟支付流程，不涉及真实支付接口**，因真实支付需注册商户号等待审核，暂不实现） | 1. 超管课表管理界面开发（默认模板应用）<br>2. 充值界面开发（模拟支付流程，无真实扫码功能） | 完成课表管理与模拟充值界面 |
| 9.17       | 1. 预约课程功能开发（模糊版）<br>2. 暂存预约逻辑（待解决取消占用/费用问题） | 1. 预约课程界面开发<br>2. 合并master分支，修复接口调用问题 | 完成预约功能基础版本 |
| 9.18       | 1. 学生注册自动分配余额账户（避免0元预约异常）<br>2. 修复学生注册性别字段不匹配（isMale→male）<br>3. 取消预约退款逻辑开发（按账单金额，模拟退款流程） | 1. 前端时间校验开发（防止时间段覆盖/非法时间）<br>2. 登录页优化（默认用户名、redirect修复）<br>3. 课表显示优化（隐藏取消/拒绝记录） | 修复注册/预约核心bug |
| 9.19       | 1. 评论编辑/删除功能开发<br>2. 课程结束通知逻辑开发（提醒评价） | 1. 评论区开发（预约课程界面集成）<br>2. 教练“我的预约”模块开发<br>3. 评论列表优化 | 完成评论功能与通知基础 |
| 9.20-9.21  | 1. 换教练功能开发（暂未限制重复教练）<br>2. 通知功能开发（换教练/上课/管理员通知）<br>3. 教练账户开发（课程到付/提现/记录，均为模拟数据流转）<br>4. 审核教练时自动创建账户 | 1. 通知中心开发（支持跳转，待解决已读状态）<br>2. 换教练界面开发<br>3. “我的学生/我的教练”界面开发<br>4. 修复换教练记录“未知”bug | 完成换教练/教练账户（模拟）/通知功能 |


### 阶段4：功能完善与bug修复（9.22-9.25）
| 日期       | 后端任务（XiaoQifei18SaMe）                          | 前端任务（XiaoQifei18SaMe）                          | 阶段目标                     |
|------------|-----------------------------------------------------|-----------------------------------------------------|------------------------------|
| 9.22       | 1. 超管/校管线下代充功能开发（**模拟代充流程，仅更新账户数据**）<br>2. 超管/校管查询/编辑学生/教练信息接口<br>3. 学生交易记录接口开发（记录模拟充值/退款数据） | 1. 超管/校管线下充值界面开发（模拟代充，无真实支付）<br>2. 学生/教练信息编辑界面开发<br>3. 学生交易记录界面开发（展示模拟交易数据） | 完成线下模拟充值与信息编辑 |
| 9.23       | 1. 修复比赛安排bug（避免“自己打自己”）<br>2. 按校区ID获取球台列表（手动选球台）<br>3. 修复6人以上比赛1人小组问题 | 1. 修复“我的学生”跳转审核bug<br>2. 管理员搜索功能开发<br>3. 分页接口变量对齐修复 | 优化比赛功能与分页 |
| 9.24       | 1. 超管系统激活功能开发<br>2. 管理员赛程显示优化（username(name)避免重名）<br>3. 管理员创建/修改比赛状态/安排赛程功能 | 1. 到期时间获取与倒计时开发<br>2. 超管激活功能界面开发<br>3. 管理员比赛管理界面（创建/改状态/查赛程） | 完成超管激活与比赛管理 |
| 9.25       | 1. 最终bug修复（如比赛分校区问题、通知未测功能）<br>2. 接口文档整理 | 1. 界面最终优化（如重复教练显示、名称刷新）<br>2. 全功能测试与问题记录（重点验证模拟支付、预约、退款流程） | 系统功能收尾与测试 |


## 4. 迭代计划（按功能模块交付）
### 迭代1：基础架构与角色登录（9.1-9.7）
| 迭代信息 | 详情 |
|----------|------|
| 迭代目标 | 完成项目基础架构搭建，实现四大角色登录注册与基础权限控制 |
| 交付物 | 1. 后端：教练注册/登录/信息修改接口<br>2. 前端：登录/注册界面、角色权限路由框架<br>3. 文档：基础接口文档 |
| 责任人 | InnerPeace-code（后端基础）、XiaoQifei18SaMe（前端权限） |
| 验收标准 | 1. 教练可正常注册、登录、修改个人信息<br>2. 前端可区分超管/校管/教练/学员角色并加载对应路由 |


### 迭代2：管理员核心功能（9.8-9.14）
| 迭代信息 | 详情 |
|----------|------|
| 迭代目标 | 完成超级管理员与校区管理员核心功能，包括校区管理、教练审核、管理员管理 |
| 交付物 | 1. 后端：AdminController/SuperAdminController、教练审核接口、校区管理接口<br>2. 前端：超管校区管理界面、管理员审核教练界面、权限路由调试完成<br>3. 文档：管理员功能接口文档 |
| 责任人 | InnerPeace-code（控制器开发）、XiaoQifei18SaMe（前后端对接） |
| 验收标准 | 1. 超管可增删改校区、管理管理员账号<br>2. 管理员可审核教练注册申请<br>3. Token权限正常生效，无404问题 |


### 迭代3：学员-教练业务功能（9.15-9.21）
| 迭代信息 | 详情 |
|----------|------|
| 迭代目标 | 完成学员-教练绑定、课程预约、评论、换教练、教练账户（模拟）功能，实现模拟充值流程 |
| 交付物 | 1. 后端：学生选教练接口、预约/取消预约接口、评论接口、换教练接口、教练账户（模拟）接口、模拟充值/退款接口<br>2. 前端：学生申请教练界面、预约界面、评论区、通知中心、教练账户界面、模拟充值界面<br>3. 文档：业务功能接口文档（标注模拟功能） |
| 责任人 | XiaoQifei18SaMe（全栈开发）、InnerPeace-code（协助调试） |
| 验收标准 | 1. 学员可申请绑定教练、预约课程、发表评论、使用模拟充值<br>2. 教练可审核学员申请、管理预约、查看模拟提现记录<br>3. 换教练功能正常，通知可接收跳转；模拟支付/退款流程无数据异常 |


### 迭代4：比赛管理与系统收尾（9.22-9.25）
| 迭代信息 | 详情 |
|----------|------|
| 迭代目标 | 完成比赛管理功能、超管激活功能，修复全量bug，完成系统测试（重点验证模拟功能流程） |
| 交付物 | 1. 后端：比赛创建/赛程安排接口、超管激活接口、线下模拟代充接口<br>2. 前端：比赛管理界面、超管激活界面、交易记录界面（展示模拟数据）<br>3. 文档：完整系统文档（明确标注模拟功能）、测试报告 |
| 责任人 | XiaoQifei18SaMe（全栈开发与测试） |
| 验收标准 | 1. 管理员可创建比赛、安排赛程，无“自己打自己”“1人小组”bug<br>2. 超管可激活系统，线下模拟代充功能正常更新账户数据<br>3. 核心功能无严重bug，模拟支付/预约/退款流程交互流畅 |


## 5. 风险与应对措施
| 风险类型 | 具体风险 | 应对措施 |
|----------|----------|----------|
| 前后端对接 | 字段不匹配（如学生性别isMale/male、Token解析字段username/name） | 1. 开发前约定字段命名规范<br>2. 对接时优先联调接口，及时修复字段映射问题<br>3. 前端增加数据适配层，兼容后端字段变化 |
| 功能bug | 预约取消占用、比赛赛程分配错误、评论重复点击问题 | 1. 功能开发后先本地测试，再提交代码<br>2. 关键逻辑（如模拟退款、赛程）增加单元测试<br>3. 后期预留2-3天专门修复bug |
| 进度延迟 | 核心功能开发超时（如课表管理、换教练） | 1. 拆分功能优先级，先实现“核心流程”（如课表默认模板、模拟支付），再迭代优化<br>2. 每日同步进度，若延迟则调整后续任务优先级<br>3. 两人协作互补，避免单点阻塞 |