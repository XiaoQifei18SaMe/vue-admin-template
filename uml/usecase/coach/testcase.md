# 乒乓球管理系统-教练员角色功能测试用例（黑盒测试）
| 测试模块                | 测试用例编号 | 测试用例描述                                                                 | 测试步骤                                                                 | 预期结果                                                                 | 测试结果 |
|-------------------------|--------------|------------------------------------------------------------------------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------|----------|
| **一、基础系统操作**    | TC00-01      | 教练员注册系统-有效等价类（未占用手机号+合规密码+上传资质材料）              | 1. 访问系统注册页，选择“教练注册”；2. 输入未占用手机号、8位含数字+字母的密码、真实姓名/性别/联系地址；3. 上传JPG格式的教练证书+身份证明照片；4. 选择意向校区，点击“提交注册” | 1. 页面提示“注册成功，待校区管理员审核（1-3个工作日）”；2. 系统后台`coach`表新增状态为“待审核”的记录；3. `coach_account`表新增初始余额为0的账户记录 |          |
|                         | TC00-02      | 教练员注册系统-无效等价类1（手机号已注册）                                  | 1. 访问注册页，选择“教练注册”；2. 输入已注册的手机号，其他信息（密码、材料、校区）均合规；3. 点击“提交注册” | 1. 注册失败，页面提示“该手机号已注册，请直接登录”；2. 后台无新增记录       |          |
|                         | TC00-03      | 教练员注册系统-无效等价类2（密码格式不满足：6位纯数字）                      | 1. 访问注册页，选择“教练注册”；2. 输入未占用手机号，密码设为“123456”（纯数字且<8位），其他信息合规；3. 点击“提交注册” | 1. 注册失败，页面提示“密码需至少8位，且包含数字和字母”；2. 后台无新增记录 |          |
|                         | TC00-04      | 教练员注册系统-无效等价类3（未上传教练资质材料）                            | 1. 访问注册页，选择“教练注册”；2. 输入未占用手机号、合规密码及其他基础信息，不上传教练证书/身份证明；3. 点击“提交注册” | 1. 注册失败，页面提示“请上传教练资质证明，否则无法通过审核”；2. 后台无新增记录 |          |
|                         | TC01-01      | 教练员登录系统-有效等价类（已审核通过账号+正确密码）                        | 1. 访问登录页，选择“教练员”角色；2. 输入已注册且审核通过的手机号、正确密码；3. 点击“登录” | 1. 登录成功，生成教练角色Token；2. 跳转至教练员个人首页，展示姓名、所属校区、待处理预约数；3. 可访问教练员专属菜单（学生广场、预约管理等） |          |
|                         | TC01-02      | 教练员登录系统-无效等价类1（账号未审核）                                    | 1. 访问登录页，选择“教练员”角色；2. 输入已注册但未审核的手机号、正确密码；3. 点击“登录” | 1. 登录失败，页面提示“您的账号尚未通过审核，请耐心等待”                   |          |
|                         | TC01-03      | 教练员登录系统-无效等价类2（账号被禁用）                                    | 1. 访问登录页，选择“教练员”角色；2. 输入已注册但被管理员禁用的手机号、正确密码；3. 点击“登录” | 1. 登录失败，页面提示“账号已被禁用，请联系校区管理员”                     |          |
|                         | TC01-04      | 教练员登录系统-无效等价类3（密码错误≥3次）                                  | 1. 访问登录页，选择“教练员”角色；2. 输入正确手机号，连续3次输入错误密码；3. 第3次点击“登录” | 1. 第3次操作后，页面提示“密码错误次数过多，账号锁定10分钟”；2. 10分钟内再次尝试登录仍提示锁定 |          |
|                         | TC01-05      | 教练员登录系统-无效等价类4（手机号未注册）                                  | 1. 访问登录页，选择“教练员”角色；2. 输入未注册的手机号、任意密码；3. 点击“登录” | 1. 登录失败，页面提示“账号不存在，请先注册”                               |          |
|                         | TC02-01      | 教练员登出系统-有效场景                                                    | 1. 使用已登录的教练员账号进入个人首页；2. 点击右上角“登出”按钮；3. 确认登出（若有弹窗） | 1. 页面提示“已安全登出”；2. 跳转至系统登录页；3. 前端缓存的个人信息、Token清空，重新访问教练员菜单提示“请先登录” |          |
| **二、个人信息维护**    | TC1-01       | 教练员维护个人信息-有效等价类1（修改姓名/专长）                            | 1. 登录后进入“个人中心-个人信息”页面；2. 点击“编辑”按钮；3. 将姓名改为“李教练”、专长改为“乒乓球发球技巧”；4. 点击“保存” | 1. 页面提示“信息更新成功”；2. 页面刷新后展示新姓名“李教练”及更新后的专长；3. 后台`coach`表对应字段同步更新 |          |
|                         | TC1-02       | 教练员维护个人信息-有效等价类2（上传合规头像）                              | 1. 进入“个人中心-个人信息”页面；2. 点击“编辑”，选择“上传头像”；3. 选择≤5MB的JPG格式图片上传；4. 点击“保存” | 1. 保存成功，页面展示新上传的头像；2. 后台`coach`表“头像地址”字段同步更新 |          |
|                         | TC1-03       | 教练员维护个人信息-有效等价类3（修改手机号，通过原手机号校验）                | 1. 进入“个人中心-个人信息”页面；2. 点击“编辑”，修改手机号为未占用的“13900139000”；3. 获取原手机号验证码并输入；4. 点击“保存” | 1. 页面提示“手机号更新成功”；2. 后台`coach`表“手机号”字段更新为新号码；3. 下次登录可使用新手机号 |          |
|                         | TC1-04       | 教练员维护个人信息-无效等价类1（修改手机号为已占用号码）                    | 1. 进入“个人中心-个人信息”页面；2. 点击“编辑”，修改手机号为已注册的“13800138001”；3. 输入原手机号验证码；4. 点击“保存” | 1. 保存失败，页面提示“该手机号已被使用，请更换其他手机号”；2. 后台`coach`表“手机号”字段未变更 |          |
|                         | TC1-05       | 教练员维护个人信息-无效等价类2（上传非图片格式头像）                        | 1. 进入“个人中心-个人信息”页面；2. 点击“编辑”，选择“上传头像”；3. 选择TXT格式文件上传；4. 点击“保存” | 1. 保存失败，页面提示“请上传JPG/PNG格式的头像图片”；2. 头像未更新         |          |
|                         | TC1-06       | 教练员维护个人信息-无效等价类3（清空必填项“专长”）                          | 1. 进入“个人中心-个人信息”页面；2. 点击“编辑”，清空“专长”字段；3. 点击“保存” | 1. 保存失败，页面提示“请填写您的教学专长，方便学员了解”；2. 后台信息未变更 |          |
| **三、学生广场模块**    | TC2_1-01     | 教练员审核学生-有效等价类1（审核通过待审核申请）                            | 1. 登录后进入“学生广场-待审核申请”页面；2. 选择1条待审核的学员绑定申请，点击“查看详情”；3. 确认学员信息后，点击“通过”；4. 提交审核 | 1. 页面提示“审核通过”；2. 待审核列表移除该申请；3. 后台`student_coach_apply`表该记录状态更新为“通过”，`student_coach`表新增绑定关系 |          |
|                         | TC2_1-02     | 教练员审核学生-有效等价类2（审核拒绝待审核申请）                            | 1. 进入“学生广场-待审核申请”页面；2. 选择1条待审核申请，点击“查看详情”；3. 点击“拒绝”，填写原因“当前学员名额已满”；4. 提交审核 | 1. 页面提示“审核拒绝”；2. 待审核列表移除该申请；3. 后台`student_coach_apply`表该记录状态更新为“拒绝”，并记录拒绝原因 |          |
|                         | TC2_1-03     | 教练员审核学生-无效等价类1（无待审核申请）                                  | 1. 登录后进入“学生广场-待审核申请”页面；2. 查看页面内容                     | 1. 页面提示“暂无学员绑定申请”；2. 无审核操作按钮                         |          |
|                         | TC2_1-04     | 教练员审核学生-无效等价类2（重复审核已处理的申请）                          | 1. 手动构造审核请求（如通过URL传入已审核的申请ID）；2. 提交“通过”或“拒绝”操作 | 1. 操作失败，页面提示“该申请已审核，无需重复操作”；2. 后台记录状态未变更 |          |
|                         | TC2_2-01     | 教练员查看我的学生信息-有效等价类（存在已绑定学员）                          | 1. 登录后进入“学生广场-我的学生”页面；2. 查看学员列表（默认分页展示）；3. 选择1名学员，点击“查看详情”；4. 尝试按“最近上课时间”排序 | 1. 列表展示学员姓名、头像、剩余课时、最近上课时间；2. 详情页展示学员基础信息、历史课程、已预约课程、评价记录；3. 排序后列表按最近上课时间倒序排列 |          |
|                         | TC2_2-02     | 教练员查看我的学生信息-无效等价类（无绑定学员）                              | 1. 登录后进入“学生广场-我的学生”页面；2. 查看页面内容                     | 1. 页面提示“您暂无绑定学员，可等待学员申请或提升教练广场曝光”；2. 无学员列表及详情按钮 |          |
|                         | TC2_3-01     | 教练员处理更换教练申请-有效等价类（确认待处理的更换申请）                    | 1. 登录后收到“学员更换教练”通知，点击通知进入“学生广场-更换申请”页面；2. 选择1条涉及自身的更换申请（作为原教练）；3. 查看学员姓名、新教练、申请原因；4. 点击“确认” | 1. 页面提示“已确认学员更换申请，等待管理员审批”；2. 后台`student_coach_apply`表该记录状态更新为“原教练确认”；3. 同步通知校区管理员 |          |
|                         | TC2_3-02     | 教练员处理更换教练申请-无效等价类（重复确认已处理的申请）                    | 1. 手动构造确认请求（如通过URL传入已确认的更换申请ID）；2. 点击“确认”        | 1. 操作失败，页面提示“该更换申请已确认，无需重复操作”；2. 后台状态未变更 |          |
| **四、预约管理模块**    | TC3_1-01     | 教练员同意/拒绝学员预约-有效等价类1（同意待确认预约）                        | 1. 登录后进入“预约管理-待确认预约”页面；2. 选择1条“待教练确认”的预约记录，查看学员姓名、课程时间、场地；3. 确认无时间冲突后，点击“同意” | 1. 页面提示“预约处理成功”；2. 待确认列表移除该记录，转入“已确认预约”列表；3. 后台`reservation`表该记录状态更新为“confirmed”；4. 学员收到“预约已通过”通知 |          |
|                         | TC3_1-02     | 教练员同意/拒绝学员预约-有效等价类2（拒绝待确认预约）                        | 1. 进入“预约管理-待确认预约”页面；2. 选择1条预约记录，查看信息；3. 点击“拒绝”，填写原因“该时间段已有课程”；4. 提交 | 1. 页面提示“预约处理成功”；2. 待确认列表移除该记录；3. 后台`reservation`表该记录状态更新为“rejected”，释放课程名额；4. 学员收到“预约已被拒绝”通知 |          |
|                         | TC3_1-03     | 教练员同意/拒绝学员预约-无效等价类1（处理已超时的预约）                      | 1. 登录后进入“预约管理-待确认预约”页面；2. 查看存在超过24小时未处理的预约记录；3. 尝试点击“同意”或“拒绝” | 1. 页面提示“该预约已超时自动拒绝”；2. 无法进行同意/拒绝操作；3. 后台该记录状态已为“rejected” |          |
|                         | TC3_1-04     | 教练员同意/拒绝学员预约-无效等价类2（同意时间冲突的预约）                    | 1. 进入“预约管理-待确认预约”页面；2. 选择1条与已有课程时间冲突的预约记录；3. 点击“同意” | 1. 页面提示“您已预约该时间段的课程，建议拒绝此预约”；2. 无法同意，需重新选择操作 |          |
|                         | TC3_2-01     | 教练员查看一周课表-有效等价类（查看未来7天课程）                            | 1. 登录后进入“预约管理-我的课表”页面；2. 查看默认“日视图”课表；3. 点击“下一周”切换日期；4. 点击1条已确认课程查看详情 | 1. 课表按日期分组，用绿色标注“已确认”、黄色标注“待确认”、白色标注“空闲”时段；2. 切换“下一周”后展示后续7天课程；3. 点击课程可查看学员信息、预约状态 |          |
|                         | TC3_2-02     | 教练员查看一周课表-无效等价类（未来7天无课程）                              | 1. 登录后进入“预约管理-我的课表”页面；2. 查看课表内容                     | 1. 页面提示“未来7天暂无课程安排，可等待学员预约”；2. 课表仅展示空闲时段，无课程标注 |          |
|                         | TC3_3-01     | 教练员取消预约-有效等价类（取消距离上课≥4小时的已确认预约）                  | 1. 进入“预约管理-已确认预约”页面（或“我的课表”）；2. 选择1条距离上课时间≥4小时的预约记录；3. 点击“取消预约”，填写原因“临时有事”；4. 确认弹窗中点击“确认” | 1. 页面提示“预约已取消，已通知学员”；2. 已确认列表移除该记录；3. 后台`reservation`表该记录状态更新为“coach_canceled”；4. 学员账户退还课时/金额，收到“教练取消预约”通知 |          |
|                         | TC3_3-02     | 教练员取消预约-无效等价类1（取消距离上课<4小时的预约）                        | 1. 进入“已确认预约”页面；2. 选择1条距离上课时间<4小时的预约记录；3. 点击“取消预约” | 1. 操作失败，页面提示“距离上课时间不足4小时，无法取消预约，请联系管理员协助”；2. 预约状态未变更 |          |
|                         | TC3_3-03     | 教练员取消预约-无效等价类2（取消已完成/已取消的预约）                        | 1. 进入“已确认预约”页面；2. 选择1条状态为“已完成”或“已取消”的记录；3. 点击“取消预约” | 1. 操作失败，页面提示“该预约已失效，无需取消”；2. 无后续操作              |          |
|                         | TC3_4-01     | 教练员处理学生取消预约-有效等价类（确认学员的取消申请）                      | 1. 登录后收到“学员申请取消预约”通知，点击进入“预约管理-取消申请”页面；2. 选择1条“student_canceling”状态的申请；3. 查看学员姓名、课程时间、取消原因；4. 点击“确认” | 1. 页面提示“已确认学员取消预约”；2. 取消申请列表移除该记录；3. 后台`reservation`表该记录状态更新为“canceled”，释放课程名额 |          |
|                         | TC3_4-02     | 教练员处理学生取消预约-无效等价类（处理已超时自动确认的申请）                | 1. 进入“预约管理-取消申请”页面；2. 查看存在已超时（系统自动确认）的申请记录；3. 尝试点击“确认” | 1. 页面提示“该取消申请已超时自动确认”；2. 无法重复确认；3. 后台状态已为“canceled” |          |
| **五、课程评价模块**    | TC4_1-01     | 教练员查看评价-有效等价类1（查看“我发表的评价”）                            | 1. 登录后进入“课程评价-评价管理”页面；2. 切换至“我发表的评价”标签页；3. 按“评分”筛选（如筛选4星及以上）；4. 分页查看 | 1. 列表展示评价对应的学员姓名、课程时间、评分、内容；2. 筛选后仅显示4星及以上评价；3. 支持分页切换，默认按时间倒序排列 |          |
|                         | TC4_1-02     | 教练员查看评价-有效等价类2（查看“我收到的评价”）                            | 1. 进入“课程评价-评价管理”页面；2. 切换至“我收到的评价”标签页；3. 查看评价的学员姓名、课程时间、评分、回复状态 | 1. 列表展示学员对教练员的评价内容及评分；2. 标注每条评价是否已回复；3. 支持按时间筛选 |          |
|                         | TC4_1-03     | 教练员查看评价-无效等价类（无“我发表的评价”记录）                            | 1. 登录后进入“课程评价-评价管理”页面；2. 切换至“我发表的评价”标签页         | 1. 页面提示“暂无评价记录”；2. 无列表数据                                 |          |
|                         | TC4_1-04     | 教练员查看评价-无效等价类（无“我收到的评价”记录）                            | 1. 进入“课程评价-评价管理”页面；2. 切换至“我收到的评价”标签页               | 1. 页面提示“暂无评价记录”；2. 无列表数据                                 |          |
|                         | TC4_2-01     | 教练员新增评价-有效等价类（对已完成未评价课程发表评价）                      | 1. 登录后进入“课程评价-待评价课程”页面；2. 选择1条“已完成”且未评价的课程记录；3. 点击“评价”，选择4星评分，填写内容“学员进步明显，发球技巧需加强”（≥10字）；4. 点击“提交评价” | 1. 页面提示“评价发表成功”；2. 待评价列表移除该记录；3. 后台`comment`表新增评价记录（关联教练ID/学员ID/课程ID）；4. 学员收到“教练已评价”通知 |          |
|                         | TC4_2-02     | 教练员新增评价-无效等价类1（对已评价课程重复评价）                            | 1. 进入“课程评价-待评价课程”页面；2. 手动构造请求，选择已评价的课程记录；3. 点击“评价”并提交 | 1. 操作失败，页面提示“您已对该学员的此课程发表评价，无法重复评价”；2. 后台无新增记录 |          |
|                         | TC4_2-03     | 教练员新增评价-无效等价类2（评价内容<10字）                                  | 1. 进入“待评价课程”页面，选择1条未评价记录；2. 点击“评价”，选择评分，填写内容“进步快”（3字）；3. 点击“提交评价” | 1. 提交失败，页面提示“评价内容需至少10字，请补充细节”；2. 评价未保存     |          |
|                         | TC4_3-01     | 教练员编辑评价-有效等价类（编辑发表≤7天且学员未回复的评价）                  | 1. 进入“课程评价-我发表的评价”页面；2. 选择1条发表时间≤7天、学员未回复的评价；3. 点击“编辑”，修改评分为5星，补充内容“后续可加强实战训练”；4. 点击“保存修改” | 1. 页面提示“评价修改成功”；2. 列表展示更新后的评分和内容；3. 后台`comment`表该记录同步更新；4. 学员收到“教练已更新对您的评价”通知 |          |
|                         | TC4_3-02     | 教练员编辑评价-无效等价类1（编辑发表>7天的评价）                            | 1. 进入“我发表的评价”页面；2. 选择1条发表时间>7天的评价；3. 点击“编辑”      | 1. 操作失败，页面提示“评价发表超过7天，无法编辑”；2. 无编辑输入框         |          |
|                         | TC4_3-03     | 教练员编辑评价-无效等价类2（编辑学员已回复的评价）                          | 1. 进入“我发表的评价”页面；2. 选择1条学员已回复的评价；3. 点击“编辑”        | 1. 操作失败，页面提示“学员已回复此评价，无法编辑”；2. 无编辑操作按钮     |          |
|                         | TC4_4-01     | 教练员删除评价-有效等价类1（删除学员未回复的已发表评价）                    | 1. 进入“课程评价-我发表的评价”页面；2. 选择1条学员未回复的评价；3. 点击“删除”；4. 确认弹窗中点击“确认” | 1. 页面提示“评价已删除”；2. 列表中不再展示该评价；3. 后台`comment`表该记录状态更新为“已删除”（逻辑删除） |          |
|                         | TC4_4-02     | 教练员删除评价-有效等价类2（删除学员已回复的已发表评价）                    | 1. 进入“我发表的评价”页面；2. 选择1条学员已回复的评价；3. 点击“删除”；4. 确认弹窗中点击“确认”（弹窗提示“该评价已收到学员回复，删除后回复也将隐藏，是否继续？”） | 1. 页面提示“评价已删除”；2. 列表及回复均不再展示；3. 后台`comment`表该记录及关联回复记录状态更新为“已删除” |          |
| **六、账号管理模块**    | TC5_1-01     | 教练员查看交易记录-有效等价类1（查看近30天交易记录）                        | 1. 登录后进入“账号管理-交易记录”页面；2. 查看默认展示的近30天记录；3. 按“交易类型”筛选“收入”记录；4. 分页查看 | 1. 列表按时间倒序展示，每条记录包含交易类型、金额、时间、关联信息、状态；2. 筛选后仅显示“收入”类型记录；3. 支持分页切换，数据准确匹配后台记录 |          |
|                         | TC5_1-02     | 教练员查看交易记录-有效等价类2（按自定义时间范围筛选）                        | 1. 进入“账号管理-交易记录”页面；2. 选择时间范围为“近90天”；3. 点击“筛选”    | 1. 列表展示近90天的所有交易记录；2. 筛选条件同步显示“近90天”             |          |
|                         | TC5_1-03     | 教练员查看交易记录-无效等价类（无交易记录）                                  | 1. 登录后进入“账号管理-交易记录”页面；2. 查看页面内容                     | 1. 页面提示“暂无交易记录”；2. 无列表数据                                 |          |
|                         | TC5_2-01     | 教练员查看余额-有效等价类（查看账户余额及说明）                              | 1. 登录后进入“账号管理-账户余额”页面；2. 查看“可用余额”“待结算金额”；3. 点击“余额说明”弹窗 | 1. 页面准确展示当前可用余额（如“1000.00元”）、待结算金额（如“0.00元”）；2. 弹窗显示“可用余额=已结算收入-已提现金额”；3. 展示最近1条交易记录 |          |
|                         | TC5_3-01     | 教练员提现余额-有效等价类（提交合规提现申请）                                | 1. 登录后进入“账号管理-提现”页面；2. 确认已绑定支付宝账户；3. 输入提现金额“200元”（≥100元且≤可用余额）；4. 点击“提交提现” | 1. 页面提示“提现申请已提交，待管理员审核（1-3个工作日）”；2. 展示申请单号；3. 后台`coach_withdrawal`表新增“待审核”状态记录；4. 可用余额减少200元，转入“待提现”金额 |          |
|                         | TC5_3-02     | 教练员提现余额-无效等价类1（可用余额不足）                                  | 1. 进入“账号管理-提现”页面；2. 查看可用余额为“80元”；3. 输入提现金额“100元”；4. 点击“提交提现” | 1. 提交失败，页面提示“可用余额不足，当前可用余额80元”；2. 无提现申请生成 |          |
|                         | TC5_3-03     | 教练员提现余额-无效等价类2（未绑定提现账户）                                | 1. 进入“账号管理-提现”页面；2. 未绑定银行卡/支付宝，选择提现方式；3. 输入金额并点击“提交提现” | 1. 提交失败，页面提示“请先在‘账户设置’中绑定提现账户”；2. 无提现申请生成 |          |
|                         | TC5_3-04     | 教练员提现余额-无效等价类3（提现金额<最低限额）                              | 1. 进入“账号管理-提现”页面；2. 已绑定账户，可用余额为“200元”；3. 输入提现金额“50元”（<100元）；4. 点击“提交提现” | 1. 提交失败，页面提示“提现最低金额为100元，请调整金额”；2. 无提现申请生成 |          |
| **七、通知模块**        | TC6_1-01     | 教练员接收更换教练通知-有效等价类1（作为原教练接收申请通知）                  | 1. 学员发起更换教练申请（原教练为当前登录教练员）；2. 登录教练员账号，查看“消息中心” | 1. 消息中心收到通知，内容为“学员XX发起更换教练申请，请确认”；2. 点击通知可跳转至“学生广场-更换申请”页面 |          |
|                         | TC6_1-02     | 教练员接收更换教练通知-有效等价类2（作为新教练接收审批通过通知）              | 1. 校区管理员审批通过学员更换教练申请（新教练为当前登录教练员）；2. 登录教练员账号，查看“消息中心” | 1. 消息中心收到通知，内容为“学员XX的更换教练申请已通过，您已成为其新教练”；2. 点击通知可跳转至“我的学生”页面 |          |
|                         | TC6_2-01     | 教练员接收上课提醒-有效等价类（课程前2小时收到提醒）                        | 1. 存在“已同意”状态的课程（如14:00上课）；2. 12:00时登录教练员账号，查看“消息中心” | 1. 消息中心收到上课提醒，内容为“课程时间：14:00，学员姓名：XX，场地：XX，课程类型：XX”；2. 点击提醒可跳转至“我的课表”页面 |          |
|                         | TC6_3-01     | 教练员接收评课提醒-有效等价类（课程结束后24小时内未评价，收到提醒）          | 1. 课程于10:00结束，教练员未对该课程学员发表评价；2. 当天15:00登录教练员账号，查看“消息中心” | 1. 消息中心收到评课提醒，内容为“已完成课程：XX（学员）-10:00，请及时评价”；2. 点击“去评价”可直接跳转至该课程的评价编辑页 |          |
|                         | TC6_3-02     | 教练员接收评课提醒-无效等价类（已完成评价，无提醒）                          | 1. 课程结束后，教练员已发表评价；2. 登录后查看“消息中心”                   | 1. 消息中心无该课程的评课提醒；2. “待评价课程”页面无该课程记录           |          |